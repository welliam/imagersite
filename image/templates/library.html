{% extends "base.html" %}
{% load static %}
{% load thumbnail %}

{% block title %}Library{% endblock %}

{% block content %}

<h1>Albums</h1>

<div><a href="{% url 'add_album' %}">Add album</a></div>

<div>
  {% if albums %}
    {% for album in albums %}

      <div class="libraryobject">
        <a href="{% url 'album' album.pk %}">
          <div>
            <div>
              {% if album.nocover %}
                <img src="{% static "nocover.jpg" %}" width="100px" height="100px">
              {% else %}
                {% thumbnail album.cover.photo.path "100x100" crop="center" format="PNG" as img %}
                <img src="{{ img.url }}" width="{{ img.width }}" height="{{ img.height }}">
              {% endthumbnail %}
            {% endif %}
            </div>

            {% if album.title %}
              {{ album.title }}
            {% else %}
              <i>untitled</i>
            {% endif %}
          </div>
        </a>
      </div>

    {% endfor %}
  {% else %}
    No albums!
  {% endif %}
</div>


<h1>Photos</h1>

<div><a href="{% url 'add_photo' %}">Add photo</a></div>

<div>
  {% if photos %}
    {% for photo in photos %}

      <div class="libraryobject">
        <a href="{% url 'images' photo.pk %}">
          <div>
            <div>
              {% thumbnail photo.photo.path "100x100" crop="center" format="PNG" as img %}
              <img src="{{ img.url }}" width="{{ img.width }}" height="{{ img.height }}">
            {% endthumbnail %}
            </div>

            {% if photo.title %}
              {{ photo.title }}
            {% else %}
              <i>untitled</i>
            {% endif %}
          </div>
        </a>
      </div>

    {% endfor %}
  {% else %}
    No photos!
  {% endif %}
</div>


{% endblock %}
